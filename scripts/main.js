$(document).ready(function(){Parse.initialize("G9uyCX4XU9TeNlK68J7Twj2cB9r6uS2yaejr4WEM","cEoLgevYZmA7OHALB8Z5dyZoGnyJ3MvdfVRIKDDv"),window.router=new MainRouter,Backbone.history.start()});var AppView=Backbone.View.extend({className:"signup col-md-6",renderedTemplate:_.template($("#appview-template").text()),events:{"click .js-login-page":"goLoginPage","click .js-signup":"signUp"},goLoginPage:function(){new LoginView},signUp:function(){var e=new Parse.User;e.set("username",this.$(".js-email").val()),e.set("password",this.$(".js-password").val()),e.set("email",this.$(".js-email").val()),e.signUp(null,{success:function(){window.router.navigate("/athleteprofile/"+Parse.User.current().attributes.username,{trigger:!0})},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},initialize:function(){$(".container").html(this.el),this.render(),$(".signup").css({top:($(window).height()-$(".signup").outerHeight())/2}),$(window).resize(function(){$(".signup").css({position:"absolute",left:($(window).width()-$(".signup").outerWidth())/2,top:($(window).height()-$(".signup").outerHeight())/2})})},render:function(){this.$el.html(this.renderedTemplate())}}),LoginView=Backbone.View.extend({className:"login",renderedTemplate:_.template($("#login-template").text()),events:{"click .js-signup-page":"goSignupPage","click .js-login":"login"},goSignupPage:function(){new AppView},initialize:function(){$(".signup").html(this.el),this.render()},login:function(){Parse.User.logIn(this.$(".js-email").val(),this.$(".js-password").val(),{success:function(){window.router.navigate("/athleteprofile/"+Parse.User.current().attributes.username,{trigger:!0})},error:function(e,t){alert("Error: "+t.code+" "+t.message)}})},render:function(){this.$el.html(this.renderedTemplate())}}),AthleteProfileView=Backbone.View.extend({className:"profile-container col-sm-10",renderedTemplate:_.template($("#profile-template").text()),events:{"click .js-logout":"logOut"},initialize:function(){$(".container").html(this.el),this.render()},logOut:function(){Parse.User.logOut(),window.router.navigate("",{trigger:!0})},render:function(){this.$el.html(this.renderedTemplate())}}),MainRouter=Backbone.Router.extend({routes:{"":"home","athleteprofile/:user":"goToProfile"},initialize:function(){},home:function(){Parse.User.current()?window.router.navigate("/athleteprofile/"+Parse.User.current().attributes.username,{trigger:!0}):new AppView},goToProfile:function(){Parse.User.current()?new AthleteProfileView:new AppView}});